<script src='https://d3js.org/d3.v7.min.js'></script>

<script>
  let heartfailurecsv = 'https://raw.githubusercontent.com/akmand/datasets/master/heart_failure.csv';

  var c1 = 0,
    c2 = 0,
    c3 = 0,
    c4 = 0;
  var myData = [c1, c2, c3, c4];
  var line_counter = 0;

  d3.csv(heartfailurecsv, function(data) {

    if (data.age >= 1 && data.age <= 30) {             //conditions for checking the age of patients
      c1 += 1;                                         //with their age
    } else if (data.age >= 31 && data.age <= 40) {
      c2 += 1;
    } else if (data.age >= 41 && data.age <= 60) {
      c3 += 1;
    } else if (data.age >= 61 && data.age <= 100) {
      c4 += 1;
    }

    var myData = [c1, c2, c3, c4];

    line_counter += 1;

    if (line_counter == 299) {
      d3.select("body").append("p").text('Count of Patients with heart failure from the age of 61 to 100:' + myData[3]);
      d3.select("body").append("p").text('Count of Patients with heart failure from the age of 41 to 60:' + myData[2]);
      d3.select("body").append("p").text('Count of Patients with heart failure from the age of 31 to 40:' + myData[1]);
      d3.select("body").append("p").text('Count of Patients with heart failure from the age of 0 to 30:' + myData[0]);
    }



  });

</script>
